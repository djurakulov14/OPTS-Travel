import Layout from '@/Layout/Layout'
import CardsSection from '@/components/CardsSection'
import Services from '@/components/Services'
import TopSection from '@/components/TopSection'
import Video from '@/components/Video'
import Head from 'next/head'

export async function getStaticProps() {
  const res = await fetch("https://main--opts-travel.netlify.app/api/tours", {
    method: "GET"
  })
  const data = await res.json()

  console.log(res, data);


  return {
    props: {
      data: data
    }, // will be passed to the page component as props
  }
}

export default function Home({data}) {
  return (
    <>
      <Head>
        <title>OPTS Travel</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main>
        <Layout>
          <TopSection arr={data} isSwiper={true} title="Тур по Ташкенту" dsc="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco. . ."/>
          <Services/>
          <CardsSection title="Популярные туры" arr={[1,2,3,4,5]} />
          <Video/>
        </Layout>
      </main>
    </>
  )
}
